<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TOEIC Town - å¤šç›ŠåŸé®</title>
  <style>
    :root{
      --bg:#e8f4fd;
      --card:#ffffff;
      --accent:#4b5bdc;
      --muted:#7b7f9a;
      --hover:#3a4bc8;
      --shadow:rgba(27,38,59,0.12);
      --district-bg:#f8faff;
      --border:#e6e8ff;
    }
    
    *{box-sizing:border-box}
    
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans TC",Helvetica,Arial;
      margin:0;
      padding:20px;
      background:linear-gradient(135deg,var(--bg),#f0f8ff);
      min-height:100vh;
      color:#333;
    }
    
    .container{
      max-width:900px;
      margin:0 auto;
    }
    
    /* æ¨™é¡Œå€åŸŸ */
    .header{
      text-align:center;
      margin-bottom:30px;
      padding:30px 20px 20px;
      background:var(--card);
      border-radius:20px;
      box-shadow:0 8px 32px var(--shadow);
    }
    
    .main-title{
      font-size:2.5rem;
      font-weight:800;
      background:linear-gradient(135deg,var(--accent),#6b7bff);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
      margin:0 0 12px;
    }
    
    /* ç‹€æ…‹æŒ‡æ¨™å€åŸŸ */
    .status-bars{
      display:grid;
      grid-template-columns:repeat(4, 1fr);
      gap:16px;
      margin:20px 0;
      padding:0 10px;
    }
    
    .status-item{
      text-align:center;
    }
    
    .status-icon{
      font-size:1.8rem;
      margin-bottom:8px;
      display:block;
    }
    
    .status-label{
      font-size:0.8rem;
      color:var(--muted);
      margin-bottom:6px;
      font-weight:600;
    }
    
    .status-bar{
      height:8px;
      background:#f0f0f0;
      border-radius:4px;
      overflow:hidden;
      margin-bottom:4px;
    }
    
    .status-fill{
      height:100%;
      border-radius:4px;
      transition:width 0.8s ease;
    }
    
    .status-fill.health{background:#ffb347;}
    .status-fill.happiness{background:#ff6b6b;}
    .status-fill.skill{background:#4ecdc4;}
    .status-fill.productivity{background:#45b7d1;}
    
    /* æ­¡è¿è©å€åŸŸ */
    .welcome-message{
      background:linear-gradient(135deg,#f8faff,#e8f2ff);
      border:2px solid var(--border);
      border-radius:12px;
      padding:16px;
      margin:20px 0;
      text-align:center;
      font-size:0.95rem;
      color:#555;
      min-height:60px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    
    /* åŸé®åœ°åœ– */
    .town-map{
      display:grid;
      grid-template-columns:repeat(5, 1fr);
      gap:12px;
      margin:30px 0;
    }
    
    /* è¡—å€å¡ç‰‡ */
    .district{
      background:var(--card);
      border-radius:12px;
      padding:16px 12px;
      box-shadow:0 2px 12px var(--shadow);
      transition:all 0.3s ease;
      cursor:pointer;
      border:2px solid var(--border);
      text-decoration:none;
      color:inherit;
      position:relative;
      text-align:center;
      min-height:140px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    
    .district:hover{
      transform:translateY(-4px);
      box-shadow:0 8px 25px var(--shadow);
      border-color:var(--accent);
    }
    
    .district-icon{
      font-size:2rem;
      margin-bottom:8px;
      display:block;
    }
    
    .district-title{
      font-size:0.85rem;
      font-weight:700;
      color:#333;
      margin:0 0 8px;
      line-height:1.2;
    }
    
    .level-info{
      background:var(--district-bg);
      border-radius:8px;
      padding:6px 8px;
      margin-top:auto;
    }
    
    .level-text{
      font-size:0.75rem;
      color:var(--accent);
      font-weight:600;
      margin-bottom:4px;
    }
    
    .level-bar{
      height:4px;
      background:#e0e0e0;
      border-radius:2px;
      overflow:hidden;
    }
    
    .level-fill{
      height:100%;
      background:linear-gradient(90deg,var(--accent),#6b7bff);
      border-radius:2px;
      transition:width 0.5s ease;
    }
    
    /* åº•éƒ¨ç‰ˆæ¬Š */
    .footer{
      text-align:center;
      margin-top:40px;
      padding:20px;
      color:var(--muted);
      font-size:0.85rem;
    }
    
    /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
    @media (max-width:768px){
      .town-map{
        grid-template-columns:repeat(3, 1fr);
        gap:10px;
      }
      .district{
        padding:12px 8px;
        min-height:120px;
      }
      .district-icon{font-size:1.5rem}
      .district-title{font-size:0.8rem}
      .status-bars{gap:12px}
      .status-icon{font-size:1.5rem}
    }
    
    @media (max-width:480px){
      .main-title{font-size:2rem}
      .town-map{grid-template-columns:repeat(2, 1fr)}
      .status-bars{grid-template-columns:repeat(2, 1fr)}
    }
  </style>
</head>
<body>
  <div class="container">
    
    <!-- æ¨™é¡Œå€åŸŸ -->
    <div class="header">
      <h1 class="main-title">ğŸ™ï¸ TOEIC Town</h1>
      
      <!-- ç‹€æ…‹æŒ‡æ¨™ -->
      <div class="status-bars">
        <div class="status-item">
          <span class="status-icon">ğŸš‘</span>
          <div class="status-label">å¥åº·åº¦</div>
          <div class="status-bar">
            <div class="status-fill health" id="healthBar" style="width:70%"></div>
          </div>
        </div>
        <div class="status-item">
          <span class="status-icon">ğŸ¤</span>
          <div class="status-label">å¹¸ç¦åº¦</div>
          <div class="status-bar">
            <div class="status-fill happiness" id="happinessBar" style="width:40%"></div>
          </div>
        </div>
        <div class="status-item">
          <span class="status-icon">ğŸ”§</span>
          <div class="status-label">æŠ€è¡“åŠ›</div>
          <div class="status-bar">
            <div class="status-fill skill" id="skillBar" style="width:85%"></div>
          </div>
        </div>
        <div class="status-item">
          <span class="status-icon">ğŸ’°</span>
          <div class="status-label">ç”Ÿç”¢åŠ›</div>
          <div class="status-bar">
            <div class="status-fill productivity" id="productivityBar" style="width:90%"></div>
          </div>
        </div>
      </div>
      
      <!-- æ­¡è¿è© -->
      <div class="welcome-message" id="welcomeMessage">
        é®é•·ï¼Œæ­¡è¿å›ä¾†ï¼çœ‹èµ·ä¾†å­¸é®ç‹€æ³é‚„ä¸éŒ¯ï¼Œä»Šå¤©è¦å…ˆè¦–å¯Ÿå“ªå€‹åŸå€å‘¢?
      </div>
    </div>

    <!-- åŸé®åœ°åœ– -->
    <div class="town-map">
      
      <a href="01ä½å®¿äº¤é€š.html" class="district" data-category="travel">
        <div>
          <span class="district-icon">ğŸ¨</span>
          <h3 class="district-title">ä½å®¿äº¤é€š</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:7</div>
          <div class="level-bar"><div class="level-fill" style="width:60%"></div></div>
        </div>
      </a>

      <a href="02é¤é£²è§€å…‰.html" class="district" data-category="entertainment">
        <div>
          <span class="district-icon">ğŸ½ï¸</span>
          <h3 class="district-title">é¤é£²è§€å…‰</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:29</div>
          <div class="level-bar"><div class="level-fill" style="width:80%"></div></div>
        </div>
      </a>

      <a href="03è¡ŒéŠ·éŠ·å”®.html" class="district" data-category="business">
        <div>
          <span class="district-icon">ğŸ“¢</span>
          <h3 class="district-title">è¡ŒéŠ·éŠ·å”®</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:8</div>
          <div class="level-bar"><div class="level-fill" style="width:30%"></div></div>
        </div>
      </a>

      <a href="04èª¿æŸ¥ç ”ç©¶.html" class="district" data-category="research">
        <div>
          <span class="district-icon">ğŸ”</span>
          <h3 class="district-title">èª¿æŸ¥ç ”ç©¶</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:68</div>
          <div class="level-bar"><div class="level-fill" style="width:75%"></div></div>
        </div>
      </a>

      <a href="05ç¤¾æœƒè²¡ç¶“.html" class="district" data-category="finance">
        <div>
          <span class="district-icon">ğŸ’°</span>
          <h3 class="district-title">ç¤¾æœƒè²¡ç¶“</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:42</div>
          <div class="level-bar"><div class="level-fill" style="width:90%"></div></div>
        </div>
      </a>

      <a href="06éƒ¨é–€çµ„ç¹”.html" class="district" data-category="management">
        <div>
          <span class="district-icon">ğŸ¢</span>
          <h3 class="district-title">éƒ¨é–€çµ„ç¹”</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:48</div>
          <div class="level-bar"><div class="level-fill" style="width:65%"></div></div>
        </div>
      </a>

      <a href="07æ‹›å‹Ÿè–ªè³‡.html" class="district" data-category="hr">
        <div>
          <span class="district-icon">ğŸ‘”</span>
          <h3 class="district-title">æ‹›å‹Ÿè–ªè³‡</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:96</div>
          <div class="level-bar"><div class="level-fill" style="width:85%"></div></div>
        </div>
      </a>

      <a href="08ç¸¾æ•ˆè¨“ç·´.html" class="district" data-category="training">
        <div>
          <span class="district-icon">ğŸ“ˆ</span>
          <h3 class="district-title">ç¸¾æ•ˆè¨“ç·´</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:56</div>
          <div class="level-bar"><div class="level-fill" style="width:70%"></div></div>
        </div>
      </a>

      <a href="09è³¼ç‰©è¨‚å–®.html" class="district" data-category="commerce">
        <div>
          <span class="district-icon">ğŸ›’</span>
          <h3 class="district-title">è³¼ç‰©è¨‚å–®</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:40</div>
          <div class="level-bar"><div class="level-fill" style="width:45%"></div></div>
        </div>
      </a>

      <a href="10å”®å¾Œæœå‹™.html" class="district" data-category="service">
        <div>
          <span class="district-icon">ğŸ› ï¸</span>
          <h3 class="district-title">å”®å¾Œæœå‹™</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:60</div>
          <div class="level-bar"><div class="level-fill" style="width:55%"></div></div>
        </div>
      </a>

      <a href="11ç¶“ç‡Ÿç®¡ç†.html" class="district" data-category="management">
        <div>
          <span class="district-icon">âš™ï¸</span>
          <h3 class="district-title">ç¶“ç‡Ÿç®¡ç†</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:67</div>
          <div class="level-bar"><div class="level-fill" style="width:80%"></div></div>
        </div>
      </a>

      <a href="12ç”Ÿç”¢è£½é€ .html" class="district" data-category="production">
        <div>
          <span class="district-icon">ğŸ­</span>
          <h3 class="district-title">ç”Ÿç”¢è£½é€ </h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:5</div>
          <div class="level-bar"><div class="level-fill" style="width:25%"></div></div>
        </div>
      </a>

      <a href="13è¾¦å…¬æºé€š.html" class="district" data-category="communication">
        <div>
          <span class="district-icon">ğŸ’»</span>
          <h3 class="district-title">è¾¦å…¬æºé€š</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:73</div>
          <div class="level-bar"><div class="level-fill" style="width:90%"></div></div>
        </div>
      </a>

      <a href="14è¡Œæ”¿æœƒè­°.html" class="district" data-category="administration">
        <div>
          <span class="district-icon">ğŸ“‹</span>
          <h3 class="district-title">è¡Œæ”¿æœƒè­°</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:11</div>
          <div class="level-bar"><div class="level-fill" style="width:35%"></div></div>
        </div>
      </a>

      <a href="15è¨­å‚™ç ”ç™¼.html" class="district" data-category="tech">
        <div>
          <span class="district-icon">ğŸ”¬</span>
          <h3 class="district-title">è¨­å‚™ç ”ç™¼</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:100</div>
          <div class="level-bar"><div class="level-fill" style="width:100%"></div></div>
        </div>
      </a>

      <a href="16é‡‘èè²¡å‹™.html" class="district" data-category="finance">
        <div>
          <span class="district-icon">ğŸ’³</span>
          <h3 class="district-title">é‡‘èè²¡å‹™</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:22</div>
          <div class="level-bar"><div class="level-fill" style="width:40%"></div></div>
        </div>
      </a>

      <a href="17æˆ¿å±‹ä¿®ç¹•.html" class="district" data-category="maintenance">
        <div>
          <span class="district-icon">ğŸ </span>
          <h3 class="district-title">æˆ¿å±‹ä¿®ç¹•</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:45</div>
          <div class="level-bar"><div class="level-fill" style="width:60%"></div></div>
        </div>
      </a>

      <a href="18å‚³åª’å‡ºç‰ˆ.html" class="district" data-category="media">
        <div>
          <span class="district-icon">ğŸ“º</span>
          <h3 class="district-title">å‚³åª’å‡ºç‰ˆ</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:40</div>
          <div class="level-bar"><div class="level-fill" style="width:50%"></div></div>
        </div>
      </a>

      <a href="19è—æ–‡æ´»å‹•.html" class="district" data-category="entertainment">
        <div>
          <span class="district-icon">ğŸ­</span>
          <h3 class="district-title">è—æ–‡æ´»å‹•</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:2</div>
          <div class="level-bar"><div class="level-fill" style="width:15%"></div></div>
        </div>
      </a>

      <a href="20å¥åº·ç”Ÿæ´».html" class="district" data-category="health">
        <div>
          <span class="district-icon">ğŸŒ¿</span>
          <h3 class="district-title">å¥åº·ç”Ÿæ´»</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:3</div>
          <div class="level-bar"><div class="level-fill" style="width:20%"></div></div>
        </div>
      </a>

    </div>

    <!-- åº•éƒ¨ç‰ˆæ¬Š -->
    <div class="footer">
      Copyright Â© 2025 Comibast All Rights Reserved
    </div>

  </div>

  <script>
    (function(){
      // éŠæˆ²æ•¸æ“šï¼ˆå¯¦éš›ä½¿ç”¨æ™‚å¯å¾localStorageè®€å–ï¼‰
      const gameData = {
        districts: {
          travel: {levels: [7, 0], experience: [420, 700]},      // ä½å®¿äº¤é€š
          entertainment: {levels: [29, 2], experience: [1200, 1500]}, // é¤é£²è§€å…‰, è—æ–‡æ´»å‹•
          business: {levels: [8], experience: [240]},           // è¡ŒéŠ·éŠ·å”®
          research: {levels: [68], experience: [4080]},         // èª¿æŸ¥ç ”ç©¶
          finance: {levels: [42, 22], experience: [2520, 1320]}, // ç¤¾æœƒè²¡ç¶“, é‡‘èè²¡å‹™
          management: {levels: [48, 67], experience: [2880, 4020]}, // éƒ¨é–€çµ„ç¹”, ç¶“ç‡Ÿç®¡ç†
          hr: {levels: [96], experience: [5760]},               // æ‹›å‹Ÿè–ªè³‡
          training: {levels: [56], experience: [3360]},         // ç¸¾æ•ˆè¨“ç·´
          commerce: {levels: [40], experience: [2400]},         // è³¼ç‰©è¨‚å–®
          service: {levels: [60], experience: [3600]},          // å”®å¾Œæœå‹™
          production: {levels: [5], experience: [300]},         // ç”Ÿç”¢è£½é€ 
          communication: {levels: [73], experience: [4380]},    // è¾¦å…¬æºé€š
          administration: {levels: [11], experience: [660]},    // è¡Œæ”¿æœƒè­°
          tech: {levels: [100], experience: [6000]},            // è¨­å‚™ç ”ç™¼
          maintenance: {levels: [45], experience: [2700]},      // æˆ¿å±‹ä¿®ç¹•
          media: {levels: [40], experience: [2400]},            // å‚³åª’å‡ºç‰ˆ
          health: {levels: [3], experience: [180]}              // å¥åº·ç”Ÿæ´»
        }
      };

      // è¨ˆç®—ç‹€æ…‹æŒ‡æ¨™
      function calculateStatusBars(){
        const categories = {
          health: ['health', 'maintenance'],
          happiness: ['entertainment', 'media'],
          skill: ['tech', 'research', 'communication'],
          productivity: ['management', 'production', 'finance', 'business']
        };

        Object.keys(categories).forEach(status => {
          const relatedCategories = categories[status];
          let totalLevels = 0;
          let count = 0;

          relatedCategories.forEach(cat => {
            if(gameData.districts[cat]){
              gameData.districts[cat].levels.forEach(level => {
                totalLevels += level;
                count++;
              });
            }
          });

          const averageLevel = count > 0 ? totalLevels / count : 0;
          const percentage = Math.min(100, (averageLevel / 100) * 100);
          
          document.getElementById(status + 'Bar').style.width = percentage + '%';
        });
      }

      // ç”Ÿæˆå‹•æ…‹æ­¡è¿è©
      function generateWelcomeMessage(){
        const messages = [
          {condition: 'low_happiness', text: 'é®é•·ï¼Œå±…æ°‘å€‘çœ‹èµ·ä¾†æœ‰é»æ‚¶æ‚¶ä¸æ¨‚ï¼Œä¸å¦‚å»è—æ–‡æ´»å‹•æˆ–é¤é£²è§€å…‰å€èµ°èµ°ï¼Ÿ'},
          {condition: 'low_health', text: 'é®é•·ï¼Œæ³¨æ„åˆ°å¥åº·æŒ‡æ¨™åä½ï¼Œå»ºè­°å¤šé—œæ³¨å¥åº·ç”Ÿæ´»å’Œæˆ¿å±‹ä¿®ç¹•å€åŸŸï¼'},
          {condition: 'high_skill', text: 'é®é•·ï¼Œæ‚¨çš„æŠ€è¡“åŠ›å¾ˆå„ªç§€ï¼ç¹¼çºŒåœ¨ç ”ç™¼å’Œæºé€šé ˜åŸŸç²¾é€²å§ï¼'},
          {condition: 'balanced', text: 'é®é•·ï¼Œæ­¡è¿å›ä¾†ï¼çœ‹èµ·ä¾†å­¸é®ç‹€æ³é‚„ä¸éŒ¯ï¼Œä»Šå¤©è¦å…ˆè¦–å¯Ÿå“ªå€‹åŸå€å‘¢?'},
          {condition: 'new_player', text: 'æ–°ä¾†çš„é®é•·ï¼Œæ­¡è¿ä¾†åˆ°TOEIC Townï¼å»ºè­°å¾ä½å®¿äº¤é€šå€é–‹å§‹æ‚¨çš„å­¸ç¿’ä¹‹æ—…ã€‚'}
        ];

        // è¨ˆç®—å„ç‹€æ…‹å¹³å‡å€¼
        const healthPercentage = parseFloat(document.getElementById('healthBar').style.width);
        const happinessPercentage = parseFloat(document.getElementById('happinessBar').style.width);
        const skillPercentage = parseFloat(document.getElementById('skillBar').style.width);

        let selectedMessage = messages[3]; // é»˜èªå¹³è¡¡ç‹€æ…‹

        if(happinessPercentage < 30){
          selectedMessage = messages[0];
        } else if(healthPercentage < 40){
          selectedMessage = messages[1];
        } else if(skillPercentage > 80){
          selectedMessage = messages[2];
        }

        document.getElementById('welcomeMessage').textContent = selectedMessage.text;
      }

      // æ·»åŠ é»æ“Šæ•ˆæœ
      document.querySelectorAll('.district').forEach((district, index) => {
        district.addEventListener('click', (e) => {
          // åªæœ‰ç¬¬ä¸€å€‹å€åŸŸï¼ˆä½å®¿äº¤é€šï¼‰å¯ä»¥é€²å…¥
          if(index === 0) {
            return; // è®“é»˜èªçš„é€£çµè¡Œç‚ºç™¼ç”Ÿ
          }
          
          // å…¶ä»–è¡—å€é¡¯ç¤ºå³å°‡é–‹æ”¾è¨Šæ¯
          e.preventDefault();
          const title = district.querySelector('.district-title').textContent;
          const level = district.querySelector('.level-text').textContent;
          
          const popup = document.createElement('div');
          popup.style.cssText = `
            position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
            background:white;padding:30px;border-radius:16px;
            box-shadow:0 20px 60px rgba(0,0,0,0.3);z-index:1000;
            text-align:center;max-width:350px;
          `;
          popup.innerHTML = `
            <div style="font-size:3rem;margin-bottom:16px;">ğŸš§</div>
            <h3 style="margin:0 0 12px;color:var(--accent);">${title}è¡—å€</h3>
            <p style="margin:0 0 16px;color:#666;">ç›®å‰ç­‰ç´šï¼š${level}</p>
            <p style="margin:0 0 20px;color:#666;font-size:0.9rem;">æ­¤è¡—å€å³å°‡é–‹æ”¾ï¼Œæ•¬è«‹æœŸå¾…æ›´å¤šç²¾å½©å…§å®¹ï¼</p>
            <button onclick="this.parentElement.remove()" style="
              background:var(--accent);color:white;border:none;
              padding:12px 24px;border-radius:8px;cursor:pointer;
              font-weight:600;transition:background 0.2s;
            ">çŸ¥é“äº†</button>
          `;
          
          const overlay = document.createElement('div');
          overlay.style.cssText = `
            position:fixed;top:0;left:0;width:100%;height:100%;
            background:rgba(0,0,0,0.5);z-index:999;
          `;
          overlay.onclick = () => {
            overlay.remove();
            popup.remove();
          };
          
          document.body.appendChild(overlay);
          document.body.appendChild(popup);
        });
      });

      // æ·»åŠ å…¥å ´å‹•ç•«
      function addEntryAnimations(){
        const districts = document.querySelectorAll('.district');
        districts.forEach((district, index) => {
          district.style.opacity = '0';
          district.style.transform = 'translateY(20px)';
          district.style.transition = `all 0.6s ease ${index * 0.05}s`;
          
          setTimeout(() => {
            district.style.opacity = '1';
            district.style.transform = 'translateY(0)';
          }, 100 + index * 50);
        });
      }

      // åˆå§‹åŒ–
      function init(){
        calculateStatusBars();
        generateWelcomeMessage();
        addEntryAnimations();
      }

      // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œ
      document.addEventListener('DOMContentLoaded', init);
      
      // å¦‚æœDOMå·²ç¶“è¼‰å…¥ï¼Œç«‹å³åŸ·è¡Œ
      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>