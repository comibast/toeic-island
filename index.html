<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TOEIC Town - 多益城鎮</title>
  <style>
    :root{
      --bg:#e8f4fd;
      --card:#ffffff;
      --accent:#4b5bdc;
      --muted:#7b7f9a;
      --hover:#3a4bc8;
      --shadow:rgba(27,38,59,0.12);
      --district-bg:#f8faff;
      --border:#e6e8ff;
    }
    
    *{box-sizing:border-box}
    
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans TC",Helvetica,Arial;
      margin:0;
      padding:20px;
      background:linear-gradient(135deg,var(--bg),#f0f8ff);
      min-height:100vh;
      color:#333;
    }
    
    .container{
      max-width:900px;
      margin:0 auto;
    }
    
    /* 標題區域 */
    .header{
      text-align:center;
      margin-bottom:30px;
      padding:30px 20px 20px;
      background:var(--card);
      border-radius:20px;
      box-shadow:0 8px 32px var(--shadow);
    }
    
    .main-title{
      font-size:2.5rem;
      font-weight:800;
      background:linear-gradient(135deg,var(--accent),#6b7bff);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      background-clip:text;
      margin:0 0 12px;
    }
    
    /* 狀態指標區域 */
    .status-bars{
      display:grid;
      grid-template-columns:repeat(4, 1fr);
      gap:16px;
      margin:20px 0;
      padding:0 10px;
    }
    
    .status-item{
      text-align:center;
    }
    
    .status-icon{
      font-size:1.8rem;
      margin-bottom:8px;
      display:block;
    }
    
    .status-label{
      font-size:0.8rem;
      color:var(--muted);
      margin-bottom:6px;
      font-weight:600;
    }
    
    .status-bar{
      height:8px;
      background:#f0f0f0;
      border-radius:4px;
      overflow:hidden;
      margin-bottom:4px;
    }
    
    .status-fill{
      height:100%;
      border-radius:4px;
      transition:width 0.8s ease;
    }
    
    .status-fill.health{background:#ffb347;}
    .status-fill.happiness{background:#ff6b6b;}
    .status-fill.skill{background:#4ecdc4;}
    .status-fill.productivity{background:#45b7d1;}
    
    /* 歡迎詞區域 */
    .welcome-message{
      background:linear-gradient(135deg,#f8faff,#e8f2ff);
      border:2px solid var(--border);
      border-radius:12px;
      padding:16px;
      margin:20px 0;
      text-align:center;
      font-size:0.95rem;
      color:#555;
      min-height:60px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    
    /* 城鎮地圖 */
    .town-map{
      display:grid;
      grid-template-columns:repeat(5, 1fr);
      gap:12px;
      margin:30px 0;
    }
    
    /* 街區卡片 */
    .district{
      background:var(--card);
      border-radius:12px;
      padding:16px 12px;
      box-shadow:0 2px 12px var(--shadow);
      transition:all 0.3s ease;
      cursor:pointer;
      border:2px solid var(--border);
      text-decoration:none;
      color:inherit;
      position:relative;
      text-align:center;
      min-height:140px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    
    .district:hover{
      transform:translateY(-4px);
      box-shadow:0 8px 25px var(--shadow);
      border-color:var(--accent);
    }
    
    .district-icon{
      font-size:2rem;
      margin-bottom:8px;
      display:block;
    }
    
    .district-title{
      font-size:0.85rem;
      font-weight:700;
      color:#333;
      margin:0 0 8px;
      line-height:1.2;
    }
    
    .level-info{
      background:var(--district-bg);
      border-radius:8px;
      padding:6px 8px;
      margin-top:auto;
    }
    
    .level-text{
      font-size:0.75rem;
      color:var(--accent);
      font-weight:600;
      margin-bottom:4px;
    }
    
    .level-bar{
      height:4px;
      background:#e0e0e0;
      border-radius:2px;
      overflow:hidden;
    }
    
    .level-fill{
      height:100%;
      background:linear-gradient(90deg,var(--accent),#6b7bff);
      border-radius:2px;
      transition:width 0.5s ease;
    }
    
    /* 底部版權 */
    .footer{
      text-align:center;
      margin-top:40px;
      padding:20px;
      color:var(--muted);
      font-size:0.85rem;
    }
    
    /* 響應式設計 */
    @media (max-width:768px){
      .town-map{
        grid-template-columns:repeat(3, 1fr);
        gap:10px;
      }
      .district{
        padding:12px 8px;
        min-height:120px;
      }
      .district-icon{font-size:1.5rem}
      .district-title{font-size:0.8rem}
      .status-bars{gap:12px}
      .status-icon{font-size:1.5rem}
    }
    
    @media (max-width:480px){
      .main-title{font-size:2rem}
      .town-map{grid-template-columns:repeat(2, 1fr)}
      .status-bars{grid-template-columns:repeat(2, 1fr)}
    }
  </style>
</head>
<body>
  <div class="container">
    
    <!-- 標題區域 -->
    <div class="header">
      <h1 class="main-title">🏙️ TOEIC Town</h1>
      
      <!-- 狀態指標 -->
      <div class="status-bars">
        <div class="status-item">
          <span class="status-icon">🚑</span>
          <div class="status-label">健康度</div>
          <div class="status-bar">
            <div class="status-fill health" id="healthBar" style="width:70%"></div>
          </div>
        </div>
        <div class="status-item">
          <span class="status-icon">🐤</span>
          <div class="status-label">幸福度</div>
          <div class="status-bar">
            <div class="status-fill happiness" id="happinessBar" style="width:40%"></div>
          </div>
        </div>
        <div class="status-item">
          <span class="status-icon">🔧</span>
          <div class="status-label">技術力</div>
          <div class="status-bar">
            <div class="status-fill skill" id="skillBar" style="width:85%"></div>
          </div>
        </div>
        <div class="status-item">
          <span class="status-icon">💰</span>
          <div class="status-label">生產力</div>
          <div class="status-bar">
            <div class="status-fill productivity" id="productivityBar" style="width:90%"></div>
          </div>
        </div>
      </div>
      
      <!-- 歡迎詞 -->
      <div class="welcome-message" id="welcomeMessage">
        鎮長，歡迎回來！看起來學鎮狀況還不錯，今天要先視察哪個城區呢?
      </div>
    </div>

    <!-- 城鎮地圖 -->
    <div class="town-map">
      
      <a href="01住宿交通.html" class="district" data-category="travel">
        <div>
          <span class="district-icon">🏨</span>
          <h3 class="district-title">住宿交通</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:7</div>
          <div class="level-bar"><div class="level-fill" style="width:60%"></div></div>
        </div>
      </a>

      <a href="02餐飲觀光.html" class="district" data-category="entertainment">
        <div>
          <span class="district-icon">🍽️</span>
          <h3 class="district-title">餐飲觀光</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:29</div>
          <div class="level-bar"><div class="level-fill" style="width:80%"></div></div>
        </div>
      </a>

      <a href="03行銷銷售.html" class="district" data-category="business">
        <div>
          <span class="district-icon">📢</span>
          <h3 class="district-title">行銷銷售</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:8</div>
          <div class="level-bar"><div class="level-fill" style="width:30%"></div></div>
        </div>
      </a>

      <a href="04調查研究.html" class="district" data-category="research">
        <div>
          <span class="district-icon">🔍</span>
          <h3 class="district-title">調查研究</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:68</div>
          <div class="level-bar"><div class="level-fill" style="width:75%"></div></div>
        </div>
      </a>

      <a href="05社會財經.html" class="district" data-category="finance">
        <div>
          <span class="district-icon">💰</span>
          <h3 class="district-title">社會財經</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:42</div>
          <div class="level-bar"><div class="level-fill" style="width:90%"></div></div>
        </div>
      </a>

      <a href="06部門組織.html" class="district" data-category="management">
        <div>
          <span class="district-icon">🏢</span>
          <h3 class="district-title">部門組織</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:48</div>
          <div class="level-bar"><div class="level-fill" style="width:65%"></div></div>
        </div>
      </a>

      <a href="07招募薪資.html" class="district" data-category="hr">
        <div>
          <span class="district-icon">👔</span>
          <h3 class="district-title">招募薪資</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:96</div>
          <div class="level-bar"><div class="level-fill" style="width:85%"></div></div>
        </div>
      </a>

      <a href="08績效訓練.html" class="district" data-category="training">
        <div>
          <span class="district-icon">📈</span>
          <h3 class="district-title">績效訓練</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:56</div>
          <div class="level-bar"><div class="level-fill" style="width:70%"></div></div>
        </div>
      </a>

      <a href="09購物訂單.html" class="district" data-category="commerce">
        <div>
          <span class="district-icon">🛒</span>
          <h3 class="district-title">購物訂單</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:40</div>
          <div class="level-bar"><div class="level-fill" style="width:45%"></div></div>
        </div>
      </a>

      <a href="10售後服務.html" class="district" data-category="service">
        <div>
          <span class="district-icon">🛠️</span>
          <h3 class="district-title">售後服務</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:60</div>
          <div class="level-bar"><div class="level-fill" style="width:55%"></div></div>
        </div>
      </a>

      <a href="11經營管理.html" class="district" data-category="management">
        <div>
          <span class="district-icon">⚙️</span>
          <h3 class="district-title">經營管理</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:67</div>
          <div class="level-bar"><div class="level-fill" style="width:80%"></div></div>
        </div>
      </a>

      <a href="12生產製造.html" class="district" data-category="production">
        <div>
          <span class="district-icon">🏭</span>
          <h3 class="district-title">生產製造</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:5</div>
          <div class="level-bar"><div class="level-fill" style="width:25%"></div></div>
        </div>
      </a>

      <a href="13辦公溝通.html" class="district" data-category="communication">
        <div>
          <span class="district-icon">💻</span>
          <h3 class="district-title">辦公溝通</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:73</div>
          <div class="level-bar"><div class="level-fill" style="width:90%"></div></div>
        </div>
      </a>

      <a href="14行政會議.html" class="district" data-category="administration">
        <div>
          <span class="district-icon">📋</span>
          <h3 class="district-title">行政會議</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:11</div>
          <div class="level-bar"><div class="level-fill" style="width:35%"></div></div>
        </div>
      </a>

      <a href="15設備研發.html" class="district" data-category="tech">
        <div>
          <span class="district-icon">🔬</span>
          <h3 class="district-title">設備研發</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:100</div>
          <div class="level-bar"><div class="level-fill" style="width:100%"></div></div>
        </div>
      </a>

      <a href="16金融財務.html" class="district" data-category="finance">
        <div>
          <span class="district-icon">💳</span>
          <h3 class="district-title">金融財務</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:22</div>
          <div class="level-bar"><div class="level-fill" style="width:40%"></div></div>
        </div>
      </a>

      <a href="17房屋修繕.html" class="district" data-category="maintenance">
        <div>
          <span class="district-icon">🏠</span>
          <h3 class="district-title">房屋修繕</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:45</div>
          <div class="level-bar"><div class="level-fill" style="width:60%"></div></div>
        </div>
      </a>

      <a href="18傳媒出版.html" class="district" data-category="media">
        <div>
          <span class="district-icon">📺</span>
          <h3 class="district-title">傳媒出版</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:40</div>
          <div class="level-bar"><div class="level-fill" style="width:50%"></div></div>
        </div>
      </a>

      <a href="19藝文活動.html" class="district" data-category="entertainment">
        <div>
          <span class="district-icon">🎭</span>
          <h3 class="district-title">藝文活動</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:2</div>
          <div class="level-bar"><div class="level-fill" style="width:15%"></div></div>
        </div>
      </a>

      <a href="20健康生活.html" class="district" data-category="health">
        <div>
          <span class="district-icon">🌿</span>
          <h3 class="district-title">健康生活</h3>
        </div>
        <div class="level-info">
          <div class="level-text">LV:3</div>
          <div class="level-bar"><div class="level-fill" style="width:20%"></div></div>
        </div>
      </a>

    </div>

    <!-- 底部版權 -->
    <div class="footer">
      Copyright © 2025 Comibast All Rights Reserved
    </div>

  </div>

  <script>
    (function(){
      // 遊戲數據（實際使用時可從localStorage讀取）
      const gameData = {
        districts: {
          travel: {levels: [7, 0], experience: [420, 700]},      // 住宿交通
          entertainment: {levels: [29, 2], experience: [1200, 1500]}, // 餐飲觀光, 藝文活動
          business: {levels: [8], experience: [240]},           // 行銷銷售
          research: {levels: [68], experience: [4080]},         // 調查研究
          finance: {levels: [42, 22], experience: [2520, 1320]}, // 社會財經, 金融財務
          management: {levels: [48, 67], experience: [2880, 4020]}, // 部門組織, 經營管理
          hr: {levels: [96], experience: [5760]},               // 招募薪資
          training: {levels: [56], experience: [3360]},         // 績效訓練
          commerce: {levels: [40], experience: [2400]},         // 購物訂單
          service: {levels: [60], experience: [3600]},          // 售後服務
          production: {levels: [5], experience: [300]},         // 生產製造
          communication: {levels: [73], experience: [4380]},    // 辦公溝通
          administration: {levels: [11], experience: [660]},    // 行政會議
          tech: {levels: [100], experience: [6000]},            // 設備研發
          maintenance: {levels: [45], experience: [2700]},      // 房屋修繕
          media: {levels: [40], experience: [2400]},            // 傳媒出版
          health: {levels: [3], experience: [180]}              // 健康生活
        }
      };

      // 計算狀態指標
      function calculateStatusBars(){
        const categories = {
          health: ['health', 'maintenance'],
          happiness: ['entertainment', 'media'],
          skill: ['tech', 'research', 'communication'],
          productivity: ['management', 'production', 'finance', 'business']
        };

        Object.keys(categories).forEach(status => {
          const relatedCategories = categories[status];
          let totalLevels = 0;
          let count = 0;

          relatedCategories.forEach(cat => {
            if(gameData.districts[cat]){
              gameData.districts[cat].levels.forEach(level => {
                totalLevels += level;
                count++;
              });
            }
          });

          const averageLevel = count > 0 ? totalLevels / count : 0;
          const percentage = Math.min(100, (averageLevel / 100) * 100);
          
          document.getElementById(status + 'Bar').style.width = percentage + '%';
        });
      }

      // 生成動態歡迎詞
      function generateWelcomeMessage(){
        const messages = [
          {condition: 'low_happiness', text: '鎮長，居民們看起來有點悶悶不樂，不如去藝文活動或餐飲觀光區走走？'},
          {condition: 'low_health', text: '鎮長，注意到健康指標偏低，建議多關注健康生活和房屋修繕區域！'},
          {condition: 'high_skill', text: '鎮長，您的技術力很優秀！繼續在研發和溝通領域精進吧！'},
          {condition: 'balanced', text: '鎮長，歡迎回來！看起來學鎮狀況還不錯，今天要先視察哪個城區呢?'},
          {condition: 'new_player', text: '新來的鎮長，歡迎來到TOEIC Town！建議從住宿交通區開始您的學習之旅。'}
        ];

        // 計算各狀態平均值
        const healthPercentage = parseFloat(document.getElementById('healthBar').style.width);
        const happinessPercentage = parseFloat(document.getElementById('happinessBar').style.width);
        const skillPercentage = parseFloat(document.getElementById('skillBar').style.width);

        let selectedMessage = messages[3]; // 默認平衡狀態

        if(happinessPercentage < 30){
          selectedMessage = messages[0];
        } else if(healthPercentage < 40){
          selectedMessage = messages[1];
        } else if(skillPercentage > 80){
          selectedMessage = messages[2];
        }

        document.getElementById('welcomeMessage').textContent = selectedMessage.text;
      }

      // 添加點擊效果
      document.querySelectorAll('.district').forEach((district, index) => {
        district.addEventListener('click', (e) => {
          // 只有第一個區域（住宿交通）可以進入
          if(index === 0) {
            return; // 讓默認的連結行為發生
          }
          
          // 其他街區顯示即將開放訊息
          e.preventDefault();
          const title = district.querySelector('.district-title').textContent;
          const level = district.querySelector('.level-text').textContent;
          
          const popup = document.createElement('div');
          popup.style.cssText = `
            position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
            background:white;padding:30px;border-radius:16px;
            box-shadow:0 20px 60px rgba(0,0,0,0.3);z-index:1000;
            text-align:center;max-width:350px;
          `;
          popup.innerHTML = `
            <div style="font-size:3rem;margin-bottom:16px;">🚧</div>
            <h3 style="margin:0 0 12px;color:var(--accent);">${title}街區</h3>
            <p style="margin:0 0 16px;color:#666;">目前等級：${level}</p>
            <p style="margin:0 0 20px;color:#666;font-size:0.9rem;">此街區即將開放，敬請期待更多精彩內容！</p>
            <button onclick="this.parentElement.remove()" style="
              background:var(--accent);color:white;border:none;
              padding:12px 24px;border-radius:8px;cursor:pointer;
              font-weight:600;transition:background 0.2s;
            ">知道了</button>
          `;
          
          const overlay = document.createElement('div');
          overlay.style.cssText = `
            position:fixed;top:0;left:0;width:100%;height:100%;
            background:rgba(0,0,0,0.5);z-index:999;
          `;
          overlay.onclick = () => {
            overlay.remove();
            popup.remove();
          };
          
          document.body.appendChild(overlay);
          document.body.appendChild(popup);
        });
      });

      // 添加入場動畫
      function addEntryAnimations(){
        const districts = document.querySelectorAll('.district');
        districts.forEach((district, index) => {
          district.style.opacity = '0';
          district.style.transform = 'translateY(20px)';
          district.style.transition = `all 0.6s ease ${index * 0.05}s`;
          
          setTimeout(() => {
            district.style.opacity = '1';
            district.style.transform = 'translateY(0)';
          }, 100 + index * 50);
        });
      }

      // 初始化
      function init(){
        calculateStatusBars();
        generateWelcomeMessage();
        addEntryAnimations();
      }

      // 頁面載入完成後執行
      document.addEventListener('DOMContentLoaded', init);
      
      // 如果DOM已經載入，立即執行
      if(document.readyState === 'loading'){
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }
    })();
  </script>
</body>
</html>